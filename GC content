#!/usr/bin/env python3

import argparse
from Bio import SeqIO
from Bio.SeqUtils import gc_fraction

def len_gc(input_path, output_path):
    with open(output_path, "a") as output_file:
        for record in SeqIO.parse(input_path, "fasta"):
            seq_len = len(record.seq)
            gc_content = round(gc_fraction(record.seq) * 100, 2)
            output_file.write(f"{record.description}\t{seq_len}\t{gc_content}\n")
            print(f"{record.description}\t{seq_len}\t{gc_content}")

def main():
    parser = argparse.ArgumentParser(description="Compute length and GC content of FASTA sequences.")
    parser.add_argument("input", help="Input FASTA file")
    parser.add_argument("output", help="Output file to write results")
    args = parser.parse_args()
    len_gc(args.input, args.output)

if __name__ == "__main__":
    main()

#!/bin/bash

# Usage: ./run_len_gc.sh input.fasta
# Output will be saved as input_lenGC.txt

INPUT_FILE="$1"
OUTPUT_FILE="${INPUT_FILE%.*}_lenGC.txt"

if [[ -z "$INPUT_FILE" ]]; then
  echo "Usage: $0 <input_fasta_file>"
  exit 1
fi



FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY len_gc.py .
COPY run_len_gc.sh .
RUN chmod +x run_len_gc.sh



